{"name":"Systemtap-script","tagline":"useful systemtap script.","body":"# systemtap-script\r\n================\r\n\r\n## useful systemtap script.\r\njust for study.\r\n\r\n## setup for ubuntu\r\n\r\n  1.install systemtap\r\n    $sudo apt-get install systemtap\r\n    $sudo apt-get install systemtap-runtime\r\n\r\n  2.install kernel-debug-info\r\n  use source-list:\r\n    (1)Install the Linux kernel debug image\r\n    ----------------------------------------------------------\r\n\r\n    Add debug source to the sources list of Ubuntu\r\n\r\n    Create an /etc/apt/sources.list.d/ddebs.list by running the following line at\r\n    a terminal:\r\n    echo \"deb http://ddebs.ubuntu.com $(lsb_release -cs) main restricted universe multiverse\" | \\\r\n    sudo tee -a /etc/apt/sources.list.d/ddebs.list\r\n\r\n    Stable releases (not alphas and betas) require three more lines adding to the\r\n    same file, which is done by the following terminal command:\r\n    echo \"deb http://ddebs.ubuntu.com $(lsb_release -cs)-updates main restricted universe multiverse\r\n    deb http://ddebs.ubuntu.com $(lsb_release -cs)-security main restricted universe multiverse\r\n    deb http://ddebs.ubuntu.com $(lsb_release -cs)-proposed main restricted universe multiverse\" | \\\r\n    sudo tee -a /etc/apt/sources.list.d/ddebs.list\r\n\r\n    Import the debug symbol archive signing key:\r\n    sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 428D7C01\r\n\r\n    Then run:\r\n    sudo apt-get update\r\n\r\n    Get Linux kernel debug image\r\n    sudo apt-get install linux-image-$(uname -r)-dbgsym\r\n    \r\n    --------------------------------------------------------\r\n    (2)General ddeb repository configuration\r\n    $ cat > /etc/apt/sources.list.d/ddebs.list << EOF\r\n    deb http://ddebs.ubuntu.com/ precise main restricted universe multiverse\r\n    EOF\r\n\r\n    $ apt-key adv --keyserver keyserver.ubuntu.com --recv-keys ECDCAD72428D7C01\r\n    $ apt-get update\r\n  download url:\r\n    ubuntu kernel-debug-info: http://ddebs.ubuntu.com/pool/main/l/linux/\r\n    \r\n## setup for fedora\r\n    yum install systemtap kernel-devel debuginfo-install kernel\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}